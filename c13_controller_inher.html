<!DOCTYPE html>
<html lang="en" ng-app="exampleApp">
<head>
    <title>AngularJS Directive</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/bootstrap-theme.min.css" rel="stylesheet">

    <style>
    </style>

    <script src="/js/angular.min.1.0.8.js"></script>
    <script>
        var app = angular.module("exampleApp", []);
        app.controller("topLevelCtrl", function ($scope) {
            $scope.dataValue = "Hello, Adam";
            $scope.reverseText = function () {
                $scope.dataValue = $scope.dataValue.split("").reverse().join("");
                console.log(1);
            }
            $scope.changeCase = function () {
                var result = [];
                angular.forEach($scope.dataValue.split(""), function (char, index) {
                    result.push(index % 2 == 1
                            ? char.toString().toUpperCase() : char.toString().toLowerCase());
                });
                $scope.dataValue = result.join("");
            };
        });
        app.controller("firstChildCtrl", function ($scope) {
            $scope.changeCase = function () {
                $scope.dataValue = $scope.dataValue.toUpperCase();
            };
        });
        app.controller("secondChildCtrl", function ($scope) {
            $scope.changeCase = function () {
                $scope.dataValue = $scope.dataValue.toLowerCase();
            };

            $scope.shiftFour = function () {
                var result = [];
                angular.forEach($scope.dataValue.split(""), function (char, index) {
                    result.push(index < 4 ? char.toUpperCase() : char);
                });
                $scope.dataValue = result.join("");
            }
        });
    </script>
</head>
<body ng-controller="topLevelCtrl">
<div class="well">
    <h4>Top Level Controller</h4>
    <div class="input-group">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button" ng-click="reverseText()">Reverse</button>
            <button class="btn btn-default" type="button" ng-click="changeCase()">Case</button>
        </span>
        <input class="form-control" ng-model="dataValue">
    </div>
</div>
<div class="well" ng-controller="firstChildCtrl">
    <h4>First Child Controller</h4>
    <div class="input-group">
    <span class="input-group-btn">
    <button class="btn btn-default" type="button" ng-click="reverseText()">Reverse</button>
    <button class="btn btn-default" type="button" ng-click="changeCase()">Case</button>
</span>
        <input class="form-control" ng-model="dataValue">
    </div>
</div>
<div class="well" ng-controller="secondChildCtrl">
    <h4>Second Child Controller</h4>
    <div class="input-group">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button" ng-click="reverseText()">Reverse</button>
            <button class="btn btn-default" type="button" ng-click="changeCase()">Case</button>
            <button class="btn btn-default" type="button" ng-click="shiftFour()">Shift</button>
        </span>
    <input class="form-control" ng-model="dataValue">
    </div>
</div>
</body>
</html>